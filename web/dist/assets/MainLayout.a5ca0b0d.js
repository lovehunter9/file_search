var Je=Object.defineProperty,Ye=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var ea=Object.prototype.hasOwnProperty,aa=Object.prototype.propertyIsEnumerable;var ye=(e,o,l)=>o in e?Je(e,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[o]=l,U=(e,o)=>{for(var l in o||(o={}))ea.call(o,l)&&ye(e,l,o[l]);if(ge)for(var l of ge(o))aa.call(o,l)&&ye(e,l,o[l]);return e},ne=(e,o)=>Ye(e,Ze(o));import{c as X,a as i,h as S,b as ve,i as Oe,l as De,r as B,w as h,o as Qe,d as ta,Q as la,g as Ve,u as na,e as ua,f as oa,j as ra,k as ia,m as sa,n as da,p as ca,q as we,s as K,t as ke,T as ue,v as j,x as va,y as fa,_ as $e,z as q,A as L,B as c,C as H,D as f,E as ma,F as se,G as F,H as Q,I as de,R as ce,J as ha,K as ba,L as ga,M as ya,N as _e,O as wa,P as ka,S as oe,U as M,V as pe,W as re,X as xe,Y as qe,Z as Be,$ as ie,a0 as Ce,a1 as _a,a2 as pa,a3 as Le,a4 as xa,a5 as Se}from"./index.cce8ed76.js";var qa=X({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:o}){const l=i(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>S("div",{class:l.value},ve(o.default))}}),Ba=X({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:o}){const l=i(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>S("div",{class:l.value},ve(o.default))}}),Ca=X({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:l}){const{proxy:{$q:d}}=Ve(),r=Oe(De,()=>{console.error("QHeader needs to be child of QLayout")}),b=B(parseInt(e.heightHint,10)),g=B(!0),_=i(()=>e.reveal===!0||r.view.value.indexOf("H")>-1||d.platform.is.ios&&r.isContainer.value===!0),m=i(()=>{if(e.modelValue!==!0)return 0;if(_.value===!0)return g.value===!0?b.value:0;const n=b.value-r.scroll.value.position;return n>0?n:0}),t=i(()=>e.modelValue!==!0||_.value===!0&&g.value!==!0),z=i(()=>e.modelValue===!0&&t.value===!0&&e.reveal===!0),I=i(()=>"q-header q-layout__section--marginal "+(_.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(t.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),D=i(()=>{const n=r.rows.value.top,x={};return n[0]==="l"&&r.left.space===!0&&(x[d.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),n[2]==="r"&&r.right.space===!0&&(x[d.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),x});function s(n,x){r.update("header",n,x)}function p(n,x){n.value!==x&&(n.value=x)}function y({height:n}){p(b,n),s("size",n)}function v(n){z.value===!0&&p(g,!0),l("focusin",n)}h(()=>e.modelValue,n=>{s("space",n),p(g,!0),r.animate()}),h(m,n=>{s("offset",n)}),h(()=>e.reveal,n=>{n===!1&&p(g,e.modelValue)}),h(g,n=>{r.animate(),l("reveal",n)}),h(r.scroll,n=>{e.reveal===!0&&p(g,n.direction==="up"||n.position<=e.revealOffset||n.position-n.inflectionPoint<100)});const P={};return r.instances.header=P,e.modelValue===!0&&s("size",b.value),s("space",e.modelValue),s("offset",m.value),Qe(()=>{r.instances.header===P&&(r.instances.header=void 0,s("size",0),s("offset",0),s("space",!1))}),()=>{const n=ta(o.default,[]);return e.elevated===!0&&n.push(S("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push(S(la,{debounce:0,onResize:y})),S("header",{class:I.value,style:D.value,onFocusin:v},n)}}});const Te=150;var La=X({name:"QDrawer",inheritAttrs:!1,props:ne(U(U({},na),ua),{side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean}),emits:[...oa,"on-layout","mini-state"],setup(e,{slots:o,emit:l,attrs:d}){const r=Ve(),{proxy:{$q:b}}=r,g=ra(e,b),{preventBodyScroll:_}=va(),{registerTimeout:m}=ia(),t=Oe(De,()=>{console.error("QDrawer needs to be child of QLayout")});let z,I,D;const s=B(e.behavior==="mobile"||e.behavior!=="desktop"&&t.totalWidth.value<=e.breakpoint),p=i(()=>e.mini===!0&&s.value!==!0),y=i(()=>p.value===!0?e.miniWidth:e.width),v=B(e.showIfAbove===!0&&s.value===!1?!0:e.modelValue===!0),P=i(()=>e.persistent!==!0&&(s.value===!0||Ie.value===!0));function n(a,u){if(Me(),a!==!1&&t.animate(),k(0),s.value===!0){const w=t.instances[R.value];w!==void 0&&w.belowBreakpoint===!0&&w.hide(!1),T(1),t.isContainer.value!==!0&&_(!0)}else T(0),a!==!1&&ae(!1);m(()=>{a!==!1&&ae(!0),u!==!0&&l("show",a)},Te)}function x(a,u){ze(),a!==!1&&t.animate(),T(0),k(V.value*y.value),te(),u!==!0&&m(()=>{l("hide",a)},Te)}const{show:G,hide:W}=sa({showing:v,hideOnRouteChange:P,handleShow:n,handleHide:x}),{addToHistory:Me,removeFromHistory:ze}=da(v,W,P),N={belowBreakpoint:s,hide:W},C=i(()=>e.side==="right"),V=i(()=>(b.lang.rtl===!0?-1:1)*(C.value===!0?1:-1)),fe=B(0),$=B(!1),J=B(!1),me=B(y.value*V.value),R=i(()=>C.value===!0?"left":"right"),Y=i(()=>v.value===!0&&s.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:y.value:0),Z=i(()=>e.overlay===!0||e.miniToOverlay===!0||t.view.value.indexOf(C.value?"R":"L")>-1||b.platform.is.ios===!0&&t.isContainer.value===!0),A=i(()=>e.overlay===!1&&v.value===!0&&s.value===!1),Ie=i(()=>e.overlay===!0&&v.value===!0&&s.value===!1),Pe=i(()=>"fullscreen q-drawer__backdrop"+(v.value===!1&&$.value===!1?" hidden":"")),We=i(()=>({backgroundColor:`rgba(0,0,0,${fe.value*.4})`})),he=i(()=>C.value===!0?t.rows.value.top[2]==="r":t.rows.value.top[0]==="l"),Ae=i(()=>C.value===!0?t.rows.value.bottom[2]==="r":t.rows.value.bottom[0]==="l"),Fe=i(()=>{const a={};return t.header.space===!0&&he.value===!1&&(Z.value===!0?a.top=`${t.header.offset}px`:t.header.space===!0&&(a.top=`${t.header.size}px`)),t.footer.space===!0&&Ae.value===!1&&(Z.value===!0?a.bottom=`${t.footer.offset}px`:t.footer.space===!0&&(a.bottom=`${t.footer.size}px`)),a}),He=i(()=>{const a={width:`${y.value}px`,transform:`translateX(${me.value}px)`};return s.value===!0?a:Object.assign(a,Fe.value)}),Ne=i(()=>"q-drawer__content fit "+(t.isContainer.value!==!0?"scroll":"overflow-auto")),Re=i(()=>`q-drawer q-drawer--${e.side}`+(J.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(g.value===!0?" q-drawer--dark q-dark":"")+($.value===!0?" no-transition":v.value===!0?"":" q-layout--prevent-focus")+(s.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${p.value===!0?"mini":"standard"}`+(Z.value===!0||A.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(he.value===!0?" q-drawer--top-padding":""))),Ee=i(()=>{const a=b.lang.rtl===!0?e.side:R.value;return[[ue,Xe,void 0,{[a]:!0,mouse:!0}]]}),Ue=i(()=>{const a=b.lang.rtl===!0?R.value:e.side;return[[ue,be,void 0,{[a]:!0,mouse:!0}]]}),je=i(()=>{const a=b.lang.rtl===!0?R.value:e.side;return[[ue,be,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function ee(){Ge(s,e.behavior==="mobile"||e.behavior!=="desktop"&&t.totalWidth.value<=e.breakpoint)}h(s,a=>{a===!0?(z=v.value,v.value===!0&&W(!1)):e.overlay===!1&&e.behavior!=="mobile"&&z!==!1&&(v.value===!0?(k(0),T(0),te()):G(!1))}),h(()=>e.side,(a,u)=>{t.instances[u]===N&&(t.instances[u]=void 0,t[u].space=!1,t[u].offset=0),t.instances[a]=N,t[a].size=y.value,t[a].space=A.value,t[a].offset=Y.value}),h(t.totalWidth,()=>{(t.isContainer.value===!0||document.qScrollPrevented!==!0)&&ee()}),h(()=>e.behavior+e.breakpoint,ee),h(t.isContainer,a=>{v.value===!0&&_(a!==!0),a===!0&&ee()}),h(t.scrollbarWidth,()=>{k(v.value===!0?0:void 0)}),h(Y,a=>{O("offset",a)}),h(A,a=>{l("on-layout",a),O("space",a)}),h(C,()=>{k()}),h(y,a=>{k(),le(e.miniToOverlay,a)}),h(()=>e.miniToOverlay,a=>{le(a,y.value)}),h(()=>b.lang.rtl,()=>{k()}),h(()=>e.mini,()=>{e.modelValue===!0&&(Ke(),t.animate())}),h(p,a=>{l("mini-state",a)});function k(a){a===void 0?we(()=>{a=v.value===!0?0:y.value,k(V.value*a)}):(t.isContainer.value===!0&&C.value===!0&&(s.value===!0||Math.abs(a)===y.value)&&(a+=V.value*t.scrollbarWidth.value),me.value=a)}function T(a){fe.value=a}function ae(a){const u=a===!0?"remove":t.isContainer.value!==!0?"add":"";u!==""&&document.body.classList[u]("q-body--drawer-toggle")}function Ke(){clearTimeout(I),r.proxy&&r.proxy.$el&&r.proxy.$el.classList.add("q-drawer--mini-animate"),J.value=!0,I=setTimeout(()=>{J.value=!1,r&&r.proxy&&r.proxy.$el&&r.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Xe(a){if(v.value!==!1)return;const u=y.value,w=j(a.distance.x,0,u);if(a.isFinal===!0){w>=Math.min(75,u)===!0?G():(t.animate(),T(0),k(V.value*u)),$.value=!1;return}k((b.lang.rtl===!0?C.value!==!0:C.value)?Math.max(u-w,0):Math.min(0,w-u)),T(j(w/u,0,1)),a.isFirst===!0&&($.value=!0)}function be(a){if(v.value!==!0)return;const u=y.value,w=a.direction===e.side,E=(b.lang.rtl===!0?w!==!0:w)?j(a.distance.x,0,u):0;if(a.isFinal===!0){Math.abs(E)<Math.min(75,u)===!0?(t.animate(),T(1),k(0)):W(),$.value=!1;return}k(V.value*E),T(j(1-E/u,0,1)),a.isFirst===!0&&($.value=!0)}function te(){_(!1),ae(!0)}function O(a,u){t.update(e.side,a,u)}function Ge(a,u){a.value!==u&&(a.value=u)}function le(a,u){O("size",a===!0?e.miniWidth:u)}return t.instances[e.side]=N,le(e.miniToOverlay,y.value),O("space",A.value),O("offset",Y.value),e.showIfAbove===!0&&e.modelValue!==!0&&v.value===!0&&e["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!0),ca(()=>{l("on-layout",A.value),l("mini-state",p.value),z=e.showIfAbove===!0;const a=()=>{(v.value===!0?n:x)(!1,!0)};if(t.totalWidth.value!==0){we(a);return}D=h(t.totalWidth,()=>{D(),D=void 0,v.value===!1&&e.showIfAbove===!0&&s.value===!1?G(!1):a()})}),Qe(()=>{D!==void 0&&D(),clearTimeout(I),v.value===!0&&te(),t.instances[e.side]===N&&(t.instances[e.side]=void 0,O("size",0),O("offset",0),O("space",!1))}),()=>{const a=[];s.value===!0&&(e.noSwipeOpen===!1&&a.push(K(S("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Ee.value)),a.push(ke("div",{ref:"backdrop",class:Pe.value,style:We.value,"aria-hidden":"true",onClick:W},void 0,"backdrop",e.noSwipeBackdrop!==!0&&v.value===!0,()=>je.value)));const u=p.value===!0&&o.mini!==void 0,w=[S("div",ne(U({},d),{key:""+u,class:[Ne.value,d.class]}),u===!0?o.mini():ve(o.default))];return e.elevated===!0&&v.value===!0&&w.push(S("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(ke("aside",{ref:"content",class:Re.value,style:He.value},w,"contentclose",e.noSwipeClose!==!0&&s.value===!0,()=>Ue.value)),S("div",{class:"q-drawer-container"},a)}}});const Sa=fa({name:"MenuLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}}});function Ta(e,o,l,d,r,b){return K((q(),L(de,{to:e.link,exact:"",clickable:""},{default:c(()=>[e.icon?(q(),L(H,{key:0,avatar:""},{default:c(()=>[f(ma,{name:e.icon},null,8,["name"])]),_:1})):se("",!0),f(H,null,{default:c(()=>[F(Q(e.title),1)]),_:1})]),_:1},8,["to"])),[[ce]])}var Oa=$e(Sa,[["render",Ta]]);const Da={name:"MainLayout",components:{MenuLink:Oa},setup(){const e=ha(),o=ba(),{t:l}=ga(),d=[{title:l("menu.search"),icon:"manage_search",link:"/search"},{title:l("menu.index"),icon:"list",link:"/index"},{title:l("menu.template"),icon:"apps",link:"/template"},{title:l("menu.user"),icon:"people",link:"/user"},{title:l("menu.role"),icon:"manage_accounts",link:"/role"},{title:l("menu.about"),icon:"info",link:"/about"}],r=[{label:"English",value:"en"},{label:"T\xFCrk\xE7e",value:"tr"},{label:"\u7B80\u4F53\u4E2D\u6587",value:"zh-cn"}],b=B(ya()),g=B(r.find(t=>t.value==b.value));!g.value&&r.length>0&&(g.value=r[0]);const _=t=>{ka(t.value),g.value=t,o.go(0)},m=()=>{e.dispatch("logout"),localStorage.setItem("creds",""),o.push("/login")};return{t:l,essentialLinks:d,leftDrawerOpen:B(!1),user:e.state.user,langList:r,selectedLanguage:g,changeLanguage:_,signout:m}}},Qa={class:"q-mr-xs"},Va={class:"q-mr-xs"},$a={class:"row no-wrap"},Ma={class:"q-mr-xs"},za={class:"row items-center no-wrap"};function Ia(e,o,l,d,r,b){const g=_e("menu-link"),_=_e("router-view");return q(),L(wa,{view:"hHh lpR fFf"},{default:c(()=>[f(Ca,null,{default:c(()=>[f(Ba,null,{default:c(()=>[f(oe,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:o[0]||(o[0]=m=>d.leftDrawerOpen=!d.leftDrawerOpen)}),f(qa,null,{default:c(()=>[F(Q(d.t("menu.zincSearch")),1)]),_:1}),M("div",Qa,[f(oe,{unelevated:"","no-caps":"",padding:"xs sm",label:d.t("menu.openapi"),href:"/swagger/index.html",target:"_blank"},null,8,["label"])]),M("div",Va,[f(oe,{unelevated:"","no-caps":"",padding:"xs sm",label:d.t("menu.documentation"),href:"https://docs.zincsearch.com",target:"_blank"},null,8,["label"])]),M("div",null,[f(pe,{unelevated:"","no-caps":"",padding:"xs sm"},{label:c(()=>[M("div",$a,Q(d.selectedLanguage.label),1)]),default:c(()=>[f(re,null,{default:c(()=>[(q(!0),xe(Ce,null,qe(d.langList,m=>K((q(),L(de,Be({key:m.value,clickable:""},m,{onClick:t=>d.changeLanguage(m)}),{default:c(()=>[f(H,null,{default:c(()=>[f(ie,null,{default:c(()=>[F(Q(m.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040,["onClick"])),[[ce],[Se]])),128))]),_:1})]),_:1})]),M("div",Ma,[f(pe,{unelevated:"","no-caps":"",padding:"xs sm"},{label:c(()=>[M("div",za,Q(d.user.name),1)]),default:c(()=>[f(re,null,{default:c(()=>[f(ie,{header:""},{default:c(()=>[F(Q(d.t("menu.account")),1)]),_:1}),K((q(),L(de,{clickable:"",onClick:d.signout},{default:c(()=>[f(H,{avatar:""},{default:c(()=>[f(_a,{size:"md",icon:"exit_to_app",color:"red","text-color":"white"})]),_:1}),f(H,null,{default:c(()=>[f(ie,null,{default:c(()=>[F(Q(d.t("menu.signOut")),1)]),_:1})]),_:1})]),_:1},8,["onClick"])),[[ce],[Se]])]),_:1})]),_:1})])]),_:1})]),_:1}),f(La,{modelValue:d.leftDrawerOpen,"onUpdate:modelValue":o[1]||(o[1]=m=>d.leftDrawerOpen=m),width:200,breakpoint:500,bordered:"",class:"bg-grey-3"},{default:c(()=>[f(re,null,{default:c(()=>[(q(!0),xe(Ce,null,qe(d.essentialLinks,m=>(q(),L(g,Be({key:m.title},m),null,16))),128))]),_:1})]),_:1},8,["modelValue"]),f(xa,null,{default:c(()=>[f(_,null,{default:c(({Component:m})=>[(q(),L(pa,null,[e.$route.meta.keepAlive?(q(),L(Le(m),{key:e.$route.name})):se("",!0)],1024)),e.$route.meta.keepAlive?se("",!0):(q(),L(Le(m),{key:e.$route.name}))]),_:1})]),_:1})]),_:1})}var Fa=$e(Da,[["render",Ia]]);export{Fa as default};
